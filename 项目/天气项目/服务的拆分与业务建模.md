# 服务的拆分与业务建模

- **单块架构如何进化成微服务架构**
- **微服务架构的设计原则**
- **如何来设计微服务系统**
- **如何进行微服务的拆分**

> ### **单块架构如何进化成微服务架构**

### 单块架构

![](https://note.youdao.com/yws/public/resource/3c9f96727969969698a2a7bd105041ec/xmlnote/E55F08F261274B85B445FE462128F70E/9751)

![](https://note.youdao.com/yws/public/resource/3c9f96727969969698a2a7bd105041ec/xmlnote/84CE998E18344793B690834B9606A002/9753)

> ### 微服务架构的设计原则

#### 问题

- 如何拆分，需要考虑服务颗粒度的问题。
- 如何将服务连接起来

#### 原则

- 拆分足够微
- 轻量级通信
- 领域驱动原则（你的服务要能反应业务的模型）
- 单一职责原则
- DevOps及两个披萨
- 不限于技术栈

> ### 如何来设计微服务系统

- 服务拆分
- 服务注册
- 服务发现
- 服务消费
- 统一入口
- 配置管理
- 熔断机制
- 自动扩展

#### 微服务的拆分的意义

- 易于实现

服务更小，意味着代码更少，更加利于理解，利于实现

- 易于维护

服务更小，意味着代码更少，业务更加简单，更加利于理解，利于实现

- 易于部署

每个服务都是采用轻量级的技术来实现的，

- 易于更新

每个服务都是隔离的，都可以独立的进行更新和部署，

### 好处

#### 正向的反馈闭环

![](https://note.youdao.com/yws/public/resource/3c9f96727969969698a2a7bd105041ec/xmlnote/CC7166C9D3A541D7AFC4B2BC05F2B890/9755)

#### ### 拆分的方法

#### 横向拆分

就是按照不同的业务进行拆分

比如天气预报系统中分为：数据采集，数据存储，数据查询，数据展示

#### 纵向拆分

把一个业务功能不同的模块或者组件进行拆分

![](https://note.youdao.com/yws/public/resource/3c9f96727969969698a2a7bd105041ec/xmlnote/1E5D0F6A4D244527BF144642B3DB2A3E/9758)

### 使用DDD

DDD：领域驱动设计

![](https://note.youdao.com/yws/public/resource/3c9f96727969969698a2a7bd105041ec/xmlnote/6B9B5CD337AD4F9D8DE9AA41EA30FF65/9761)

